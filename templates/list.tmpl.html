<div id="page-title">
	<h1 class="page-header text-overflow">
		Widgets
	</h1>
	<div class="btn-group-float">
		<a href="#/widgets/create" class="btn btn-success btn-circle" tooltip="Create a new widget"><i class="fa fa-plus"></i></a>
	</div>
</div>
<div class="container-fluid">
	<query
		query="$ctrl.query"
		spec="$ctrl.widgetsMeta"
		on-refresh="$ctrl.refresh()"
	></query>
	<div class="panel">
		<table ng-show="$ctrl.widgets.length" class="table table-striped table-hover table-middle">
			<thead>
				<tr>
					<th style="width: 20px">Status</th>
					<th>Title</th>
					<th>Created</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="widget in $ctrl.widgets track by widget._id">
					<td class="text-center"><a href="#/widgets/{{widget._id}}">
						<i ng-if="widget.status=='active'" class="fa fa-lg fa-check text-warning" tooltip="Widget is active" tooltip-position="right"></i>
						<i ng-if="widget.status=='deleted'" class="fa fa-lg fa-trash-o text-muted" tooltip="Widget has been deleted" tooltip-position="right"></i>
					</a></td>
					<td><a href="#/widgets/{{widget._id}}">{{widget.title}}</td>
					<td><a href="#/widgets/{{widget._id}}"><date date="widget.created"></date></a></td>
				</tr>
			</tbody>
		</table>
		<div ng-show="!$ctrl.widgets.length" class="panel-body">
			<div class="alert alert-warning m-b-0">
				No widgets found matching your search criteria.
			</div>
		</div>
	</div>
</div>
